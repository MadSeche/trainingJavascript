let express,json,urlencoded,connect,usersRouter,moviesRouter,searchRouter;_3e7‍.w("express",[["default",["express"],function(v){express=v}]]);_3e7‍.w("body-parser",[["json",["json"],function(v){json=v}],["urlencoded",["urlencoded"],function(v){urlencoded=v}]]);_3e7‍.w("./utils/db",[["connect",["connect"],function(v){connect=v}]]);_3e7‍.w("./ressources/user/user.router",[["default",["usersRouter"],function(v){usersRouter=v}]]);_3e7‍.w("./ressources/movie/movie.router",[["default",["moviesRouter"],function(v){moviesRouter=v}]]);_3e7‍.w("./ressources/search/search.router",[["default",["searchRouter"],function(v){searchRouter=v}]]);






const app = express();

app.disable('x-powered-by');
app.use(json());
app.use(urlencoded({extended:true}));

app.use('/api/users',usersRouter);
app.use('/api/movies',moviesRouter);
app.use('/search',searchRouter);
const start = async()=>{
    try{
        await connect ()
        app.listen(8001,()=>{
            console.log('REST API listening on port 8001');
        })
    } catch (err) {
        throw err;
    }
}

start();
